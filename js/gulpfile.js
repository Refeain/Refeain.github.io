var gulp=require("gulp"),cleanCSS=require("gulp-clean-css"),htmlmin=require("gulp-html-minifier-terser"),htmlclean=require("gulp-htmlclean"),fontmin=require("gulp-fontmin"),terser=require("gulp-terser");function minifyFont(e,i){gulp.src("./public/fonts/*.ttf").pipe(fontmin({text:e})).pipe(gulp.dest("./public/fontsdest/")).on("end",i)}gulp.task("compress",(()=>gulp.src(["./public/**/*.js","!./public/**/*.min.js"]).pipe(terser()).pipe(gulp.dest("./public")))),gulp.task("minify-css",(()=>gulp.src(["./public/**/*.css"]).pipe(cleanCSS({compatibility:"ie11"})).pipe(gulp.dest("./public")))),gulp.task("minify-html",(()=>gulp.src("./public/**/*.html").pipe(htmlclean()).pipe(htmlmin({removeComments:!0,collapseWhitespace:!0,collapseBooleanAttributes:!0,removeEmptyAttributes:!0,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,minifyJS:!0,minifyCSS:!0,minifyURLs:!0})).pipe(gulp.dest("./public")))),gulp.task("mini-font",(e=>{var i=[];gulp.src(["./public/**/*.html"]).on("data",(function(e){i.push(e.contents)})).on("end",(function(){minifyFont(Buffer.concat(i).toString("utf-8"),e)}))})),gulp.task("default",gulp.parallel("compress","minify-css","minify-html","mini-font"));